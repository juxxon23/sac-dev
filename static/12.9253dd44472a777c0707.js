(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{ZDbn:function(n,e,t){"use strict";t.r(e),t.d(e,"TexteditorModule",(function(){return k}));var o=t("ofXK"),i=t("tyNb"),s=t("fXoL"),r=t("bg2f"),a=t("3Pt+");function c(n,e){}const l=()=>{const n="undefined"!=typeof window?window:void 0;return n&&n.tinymce?n.tinymce:null};let d=(()=>{class n{constructor(){this.onBeforePaste=new s.n,this.onBlur=new s.n,this.onClick=new s.n,this.onContextMenu=new s.n,this.onCopy=new s.n,this.onCut=new s.n,this.onDblclick=new s.n,this.onDrag=new s.n,this.onDragDrop=new s.n,this.onDragEnd=new s.n,this.onDragGesture=new s.n,this.onDragOver=new s.n,this.onDrop=new s.n,this.onFocus=new s.n,this.onFocusIn=new s.n,this.onFocusOut=new s.n,this.onKeyDown=new s.n,this.onKeyPress=new s.n,this.onKeyUp=new s.n,this.onMouseDown=new s.n,this.onMouseEnter=new s.n,this.onMouseLeave=new s.n,this.onMouseMove=new s.n,this.onMouseOut=new s.n,this.onMouseOver=new s.n,this.onMouseUp=new s.n,this.onPaste=new s.n,this.onSelectionChange=new s.n,this.onActivate=new s.n,this.onAddUndo=new s.n,this.onBeforeAddUndo=new s.n,this.onBeforeExecCommand=new s.n,this.onBeforeGetContent=new s.n,this.onBeforeRenderUI=new s.n,this.onBeforeSetContent=new s.n,this.onChange=new s.n,this.onClearUndos=new s.n,this.onDeactivate=new s.n,this.onDirty=new s.n,this.onExecCommand=new s.n,this.onGetContent=new s.n,this.onHide=new s.n,this.onInit=new s.n,this.onInitNgModel=new s.n,this.onLoadContent=new s.n,this.onNodeChange=new s.n,this.onPostProcess=new s.n,this.onPostRender=new s.n,this.onPreInit=new s.n,this.onPreProcess=new s.n,this.onProgressState=new s.n,this.onRedo=new s.n,this.onRemove=new s.n,this.onReset=new s.n,this.onSaveContent=new s.n,this.onSetAttrib=new s.n,this.onObjectResizeStart=new s.n,this.onObjectResized=new s.n,this.onObjectSelected=new s.n,this.onSetContent=new s.n,this.onShow=new s.n,this.onSubmit=new s.n,this.onUndo=new s.n,this.onVisualAid=new s.n}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.Db({type:n,outputs:{onBeforePaste:"onBeforePaste",onBlur:"onBlur",onClick:"onClick",onContextMenu:"onContextMenu",onCopy:"onCopy",onCut:"onCut",onDblclick:"onDblclick",onDrag:"onDrag",onDragDrop:"onDragDrop",onDragEnd:"onDragEnd",onDragGesture:"onDragGesture",onDragOver:"onDragOver",onDrop:"onDrop",onFocus:"onFocus",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onKeyDown:"onKeyDown",onKeyPress:"onKeyPress",onKeyUp:"onKeyUp",onMouseDown:"onMouseDown",onMouseEnter:"onMouseEnter",onMouseLeave:"onMouseLeave",onMouseMove:"onMouseMove",onMouseOut:"onMouseOut",onMouseOver:"onMouseOver",onMouseUp:"onMouseUp",onPaste:"onPaste",onSelectionChange:"onSelectionChange",onActivate:"onActivate",onAddUndo:"onAddUndo",onBeforeAddUndo:"onBeforeAddUndo",onBeforeExecCommand:"onBeforeExecCommand",onBeforeGetContent:"onBeforeGetContent",onBeforeRenderUI:"onBeforeRenderUI",onBeforeSetContent:"onBeforeSetContent",onChange:"onChange",onClearUndos:"onClearUndos",onDeactivate:"onDeactivate",onDirty:"onDirty",onExecCommand:"onExecCommand",onGetContent:"onGetContent",onHide:"onHide",onInit:"onInit",onInitNgModel:"onInitNgModel",onLoadContent:"onLoadContent",onNodeChange:"onNodeChange",onPostProcess:"onPostProcess",onPostRender:"onPostRender",onPreInit:"onPreInit",onPreProcess:"onPreProcess",onProgressState:"onProgressState",onRedo:"onRedo",onRemove:"onRemove",onReset:"onReset",onSaveContent:"onSaveContent",onSetAttrib:"onSetAttrib",onObjectResizeStart:"onObjectResizeStart",onObjectResized:"onObjectResized",onObjectSelected:"onObjectSelected",onSetContent:"onSetContent",onShow:"onShow",onSubmit:"onSubmit",onUndo:"onUndo",onVisualAid:"onVisualAid"}}),n})();const u=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],h=(n,e)=>"string"==typeof n?n.split(",").map(n=>n.trim()):Array.isArray(n)?n:e;let b=0;const g=n=>{const e=(new Date).getTime(),t=Math.floor(1e9*Math.random());return b++,n+"_"+t+b+String(e)},m=n=>void 0!==n&&"textarea"===n.tagName.toLowerCase(),p=n=>void 0===n||""===n?[]:Array.isArray(n)?n:n.split(" "),w=()=>{},f=n=>null==n,C=()=>({listeners:[],scriptId:g("tiny-script"),scriptLoaded:!1}),v=(()=>{let n=C();return{load:(e,t,o)=>{n.scriptLoaded?o():(n.listeners.push(o),e.getElementById(n.scriptId)||((e,t,o,i)=>{const s=t.createElement("script");s.referrerPolicy="origin",s.type="application/javascript",s.id=e,s.src=o;const r=()=>{s.removeEventListener("load",r),n.listeners.forEach(n=>n()),n.scriptLoaded=!0};s.addEventListener("load",r),t.head&&t.head.appendChild(s)})(n.scriptId,e,t))},reinitialize:()=>{n=C()}}})(),y=new s.q("TINYMCE_SCRIPT_SRC"),_={provide:a.f,useExisting:Object(s.S)(()=>S),multi:!0};let S=(()=>{class n extends d{constructor(n,e,t,o){super(),this.platformId=t,this.tinymceScriptSrc=o,this.cloudChannel="5",this.apiKey="no-api-key",this.id="",this.modelEvents="change input undo redo",this.onTouchedCallback=w,this.onChangeCallback=w,this._elementRef=n,this.ngZone=e,this.initialise=this.initialise.bind(this)}set disabled(n){this._disabled=n,this._editor&&this._editor.initialized&&this._editor.setMode(n?"readonly":"design")}get disabled(){return this._disabled}get editor(){return this._editor}writeValue(n){this._editor&&this._editor.initialized?this._editor.setContent(f(n)?"":n):this.initialValue=null===n?void 0:n}registerOnChange(n){this.onChangeCallback=n}registerOnTouched(n){this.onTouchedCallback=n}setDisabledState(n){this._editor?this._editor.setMode(n?"readonly":"design"):n&&(this.init=Object.assign(Object.assign({},this.init),{readonly:!0}))}ngAfterViewInit(){Object(o.m)(this.platformId)&&(this.id=this.id||g("tiny-angular"),this.inline=void 0!==this.inline?"boolean"!=typeof this.inline||this.inline:this.init&&this.init.inline,this.createElement(),null!==l()?this.initialise():this._element&&this._element.ownerDocument&&v.load(this._element.ownerDocument,this.getScriptSrc(),this.initialise))}ngOnDestroy(){null!==l()&&l().remove(this._editor)}createElement(){this._element=document.createElement(this.inline?"string"==typeof this.tagName?this.tagName:"div":"textarea"),this._element&&(this._element.id=this.id,m(this._element)&&(this._element.style.visibility="hidden"),this._elementRef.nativeElement.appendChild(this._element))}initialise(){const n=Object.assign(Object.assign({},this.init),{target:this._element,inline:this.inline,readonly:this.disabled,plugins:(e=this.init&&this.init.plugins,t=this.plugins,p(e).concat(p(t))),toolbar:this.toolbar||this.init&&this.init.toolbar,setup:n=>{this._editor=n,n.on("init",e=>{this.initEditor(n)}),((n,e)=>{(n=>{const e=h(n.ignoreEvents,[]);return h(n.allowedEvents,u).filter(n=>u.includes(n)&&!e.includes(n))})(n).forEach(t=>{const o=n[t];e.on(t.substring(2),t=>n.ngZone.run(()=>o.emit({event:t,editor:e})))})})(this,n),this.init&&"function"==typeof this.init.setup&&this.init.setup(n)}});var e,t;m(this._element)&&(this._element.style.visibility=""),this.ngZone.runOutsideAngular(()=>{l().init(n)})}getScriptSrc(){return f(this.tinymceScriptSrc)?`https://cdn.tiny.cloud/1/${this.apiKey}/tinymce/${this.cloudChannel}/tinymce.min.js`:this.tinymceScriptSrc}initEditor(n){n.on("blur",()=>this.ngZone.run(()=>this.onTouchedCallback())),n.on(this.modelEvents,()=>{this.ngZone.run(()=>this.onChangeCallback(n.getContent({format:this.outputFormat})))}),"string"==typeof this.initialValue&&this.ngZone.run(()=>{n.setContent(this.initialValue),n.getContent()!==this.initialValue&&this.onChangeCallback(n.getContent({format:this.outputFormat})),void 0!==this.onInitNgModel&&this.onInitNgModel.emit(n)})}}return n.\u0275fac=function(e){return new(e||n)(s.Ib(s.l),s.Ib(s.z),s.Ib(s.B),s.Ib(y,8))},n.\u0275cmp=s.Cb({type:n,selectors:[["editor"]],inputs:{cloudChannel:"cloudChannel",apiKey:"apiKey",id:"id",modelEvents:"modelEvents",disabled:"disabled",initialValue:"initialValue",init:"init",inline:"inline",outputFormat:"outputFormat",tagName:"tagName",plugins:"plugins",toolbar:"toolbar",allowedEvents:"allowedEvents",ignoreEvents:"ignoreEvents"},features:[s.wb([_]),s.ub],decls:1,vars:0,template:function(n,e){1&n&&s.ic(0,c,0,0,"ng-template")},styles:["[_nghost-%COMP%] { display: block; }"]}),n})(),D=(()=>{class n{}return n.\u0275mod=s.Gb({type:n}),n.\u0275inj=s.Fb({factory:function(e){return new(e||n)},imports:[[o.b,a.e]]}),n})();function M(n,e){if(1&n&&(s.Lb(0,"th",11),s.jc(1),s.Kb()),2&n){const n=e.$implicit;s.xb(1),s.lc(" ",n," ")}}function O(n,e){if(1&n){const n=s.Mb();s.Lb(0,"tr"),s.Lb(1,"td",11),s.jc(2),s.Kb(),s.Lb(3,"td",11),s.jc(4),s.Kb(),s.Lb(5,"td",11),s.jc(6),s.Kb(),s.Lb(7,"td",11),s.Lb(8,"button",12),s.Sb("click",(function(){s.dc(n);const t=e.$implicit,o=e.index;return s.Ub(2).getDocById(t,o)})),s.jc(9,"Editar"),s.Kb(),s.Kb(),s.Jb(10,"td"),s.Kb()}if(2&n){const n=e.$implicit,t=e.index;s.xb(2),s.kc(t),s.xb(2),s.kc(n._id),s.xb(2),s.kc(n.document_u)}}function P(n,e){if(1&n&&(s.Lb(0,"table"),s.Lb(1,"tr"),s.ic(2,M,2,1,"th",9),s.Kb(),s.ic(3,O,11,3,"tr",10),s.Kb()),2&n){const n=s.Ub();s.xb(2),s.Zb("ngForOf",n.header_list),s.xb(1),s.Zb("ngForOf",n.rows)}}const E=function(){return["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"]},I=function(n){return{height:500,menubar:!1,plugins:n,toolbar:"undo redo | formatselect | bold italic backcolor | \n      alignleft aligncenter alignright alignjustify | \n      bullist numlist outdent indent | removeformat | help"}},K=[{path:"",component:(()=>{class n{constructor(n){this.rs=n,this.myEditor="",this.url_doc="https://floating-falls-31326.herokuapp.com/document",this.header_list=["index","_id","document_u","get_doc"],this.rows=[],this.table_state=!1}ngOnInit(){}editorContent(n){this.myEditor=n}insertHtml(n){tinymce.execCommand("mceInsertContent",!1,n)}createDoc(){this.rs.postRequest(this.url_doc,{document_u:"1094972662",format_id:1,opts:[1,2]}).subscribe(n=>{this.insertHtml(n.format.template),localStorage.setItem("id_acta",n.format.id_acta)})}getDocById(n,e){this.rs.getRequest(this.url_doc,n._id).subscribe(e=>{this.insertHtml(e.user_doc),localStorage.setItem("id_acta",n._id)})}getAllDocs(){this.rs.getRequest(this.url_doc).subscribe(n=>{this.rows=n.docs,this.table_state=!0})}saveDoc(){let n=this.myEditor.editor.contentDocument.documentElement.innerHTML,e=localStorage.getItem("id_acta");this.rs.putRequest(this.url_doc,{id_acta:e,document_u:"1094972662",content:n}).subscribe(n=>{console.log(n)})}}return n.\u0275fac=function(e){return new(e||n)(s.Ib(r.a))},n.\u0275cmp=s.Cb({type:n,selectors:[["app-texteditor"]],decls:16,vars:5,consts:[[1,"menu-container","row"],[1,"menu-doc","col","s1"],[1,"row"],[1,"col","s12"],[1,"menu-button-doc","btn","waves-effect","waves-light","orange-sac",3,"click"],[1,"menu-button-doc","btn","waves-effect","waves-light","blue-sac",3,"click"],[1,"col","s11","editor-container"],["apiKey","6o8br645ls443y35hyve8zrpx9lfo9zqpvfca8ig4cz65ac7","id","text-editor",3,"init","onSelectionChange"],[4,"ngIf"],["class","center",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"center"],[1,"menu-button-editor","btn","waves-effect","waves-light","orange-sac",3,"click"]],template:function(n,e){1&n&&(s.Lb(0,"div",0),s.Lb(1,"div",1),s.Lb(2,"ul",2),s.Lb(3,"li",3),s.Lb(4,"button",4),s.Sb("click",(function(){return e.createDoc()})),s.jc(5,"Crear"),s.Kb(),s.Kb(),s.Lb(6,"li",3),s.Lb(7,"button",4),s.Sb("click",(function(){return e.saveDoc()})),s.jc(8,"Guardar"),s.Kb(),s.Kb(),s.Lb(9,"li",3),s.Lb(10,"button",5),s.Sb("click",(function(){return e.getAllDocs()})),s.jc(11,"Lista"),s.Kb(),s.Kb(),s.Kb(),s.Kb(),s.Lb(12,"div",6),s.Lb(13,"editor",7),s.Sb("onSelectionChange",(function(n){return e.editorContent(n)})),s.Kb(),s.Kb(),s.Lb(14,"div"),s.ic(15,P,4,2,"table",8),s.Kb(),s.Kb()),2&n&&(s.xb(13),s.Zb("init",s.bc(3,I,s.ac(2,E))),s.xb(2),s.Zb("ngIf",e.table_state))},directives:[S,o.i,o.h],styles:[".menu-container[_ngcontent-%COMP%]{background-color:#f0f2f5;margin:0}.menu-doc[_ngcontent-%COMP%]{float:left;width:auto;height:auto}.menu-button-doc[_ngcontent-%COMP%]{width:100%;margin:1% 0}.menu-button-editor[_ngcontent-%COMP%]{width:auto;margin:1%}.center[_ngcontent-%COMP%]{text-align:center}.editor-container[_ngcontent-%COMP%]{padding:0;margin:0}.orange-sac[_ngcontent-%COMP%]{background-color:#fc7323}.blue-sac[_ngcontent-%COMP%]{background-color:#001935}#text-editor[_ngcontent-%COMP%]{margin:0 1%;width:auto;height:auto}"]}),n})()}];let L=(()=>{class n{}return n.\u0275mod=s.Gb({type:n}),n.\u0275inj=s.Fb({factory:function(e){return new(e||n)},imports:[[i.d.forChild(K)],i.d]}),n})(),k=(()=>{class n{}return n.\u0275mod=s.Gb({type:n}),n.\u0275inj=s.Fb({factory:function(e){return new(e||n)},imports:[[o.b,L,D]]}),n})()}}]);