(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"7vJP":function(t,e,n){"use strict";n.r(e),n.d(e,"HomeModule",(function(){return g}));var o=n("ofXK"),c=n("tyNb"),i=n("+7By"),r=n("fXoL"),s=n("3Pt+"),a=n("lGQG"),b=n("bg2f");function d(t,e){if(1&t&&(r.Qb(0,"th",21),r.oc(1),r.Pb()),2&t){const t=e.$implicit;r.Cb(1),r.qc(" ",t," ")}}function l(t,e){if(1&t){const t=r.Rb();r.Qb(0,"tr"),r.Qb(1,"td",21),r.oc(2),r.Pb(),r.Qb(3,"td",21),r.oc(4),r.Pb(),r.Qb(5,"td",21),r.oc(6),r.Pb(),r.Qb(7,"td",21),r.oc(8),r.Pb(),r.Qb(9,"td",21),r.Qb(10,"button",22),r.Xb("click",(function(){r.ic(t);const n=e.$implicit;return r.Zb().actBy(n)})),r.Qb(11,"span",23),r.oc(12),r.Pb(),r.Pb(),r.Pb(),r.Qb(13,"td"),r.Qb(14,"div",24),r.Qb(15,"button",25),r.Xb("click",(function(){r.ic(t);const n=e.$implicit;return r.Zb().exportActDocx(n)})),r.Qb(16,"span",26),r.oc(17," article "),r.Pb(),r.Pb(),r.Qb(18,"button",27),r.Qb(19,"span",26),r.oc(20," picture_as_pdf "),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=e.$implicit,n=e.index,o=r.Zb();r.Cb(2),r.pc(t.id_a),r.Cb(2),r.pc(t.id_u),r.Cb(2),r.pc(t.description),r.Cb(2),r.pc(t.format_id),r.Cb(4),r.qc(" ",o.options[n]," ")}}const u=[{path:"",component:(()=>{class t{constructor(t,e,n,o,c){this.fb=t,this.auth=e,this.rs=n,this.router=o,this.route=c,this.url_doc=i.a.url_base_deploy+i.a.url_document,this.url_search=i.a.url_base_deploy+i.a.url_search,this.url_reqEdit=i.a.url_base_deploy+i.a.url_req_edit,this.header_list=["Acta No.","Creador","Descripcion","Formato","Editar","Descargar"],this.rows=[],this.table_state=!1,this.options={}}ngOnInit(){$("select").material_select(),this.filterOpt=this.fb.group({dataOpt:[""],opt:[""],currUser:[this.auth.getCurrentUser()]})}exportActDocx(t){let e=this.auth.getCurrentUser(),n=t.id_a.toString();this.rs.getRequest(this.url_search,e,n).subscribe(t=>{this.Export2Word(t.h_temp,"Acta-"+n)})}Export2Word(t,e=""){var n="<html xmlns:o='urn:schemas-microsoft-com:office:office' xmlns:w='urn:schemas-microsoft-com:office:word' xmlns='http://www.w3.org/TR/REC-html40'><head><meta charset='utf-8'><title>Export HTML To Doc</title></head><body>"+t+"</body></html>",o=new Blob(["\ufeff",n],{type:"application/msword"}),c="data:application/vnd.ms-word;charset=utf-8,"+encodeURIComponent(n);e=e?e+".docx":"Acta.docx";var i=document.createElement("a");document.body.appendChild(i),navigator.msSaveOrOpenBlob?navigator.msSaveOrOpenBlob(o,e):(i.href=c,i.download=e,i.click()),document.body.removeChild(i)}convertOptions(t){for(let e=0;e<t.length;e++)this.options[e]=t[e].edit?"edit":"schedule_send"}actBrowser(){this.getSelect(),this.rs.postRequest(this.url_search,this.filterOpt.value).subscribe(t=>{this.rows=t.u,this.convertOptions(t.u),this.table_state=!this.table_state})}searchAct(){this.rs.getRequest(this.url_search,this.auth.getCurrentUser(),this.auth.getCurrentAct()).subscribe(t=>{console.log(t)})}getSelect(){let t=document.getElementsByTagName("select")[0].value;this.filterOpt.value.opt=t}findActs(){let t=this.auth.getCurrentUser();this.rs.getRequest(this.url_doc,t).subscribe(t=>{this.rows=t.docs,this.table_state=!this.table_state})}actBy(t){let e=t.id_a.toString(),n=this.auth.getCurrentUser();if(t.edit)this.rs.getRequest(this.url_search,n,e).subscribe(t=>{this.auth.setCurrentAct(e),this.router.navigate(["/texteditor"],{relativeTo:this.route})});else{let t={id_u:this.auth.getCurrentUser(),id_a:e};this.rs.postRequest(this.url_reqEdit,t).subscribe(t=>{console.log(t)})}}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(s.b),r.Nb(a.a),r.Nb(b.a),r.Nb(c.b),r.Nb(c.a))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-home"]],decls:31,vars:3,consts:[[1,"body-cont"],[1,"container"],[1,"row","row-no"],[1,"col","s12",3,"formGroup"],[1,"row","buscador"],[1,"input-field","col","s8"],[1,"material-icons","prefix","blue-sac"],["type","text","id","dataOpt","formControlName","dataOpt"],["for","dataOpt"],[1,"input-field","col","s4"],["formControlName","opt"],["value","","selected","","disabled",""],["value","0"],["value","1"],["value","2"],[1,"cajon2"],["type","submit",1,"menu-button-doc","btn","waves-effect","waves-light","orange-sac",3,"click"],[1,"menu-button-doc","btn","waves-effect","waves-light","orange-sac"],[1,"cajon3"],["class","center-r",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"center-r"],[1,"btn","waves-effect","waves-light","orange-sac",3,"click"],[1,"material-icons","menu-button-editor"],[1,"down-b"],[1,"down-btn","btn","waves-effect","waves-light","orange-sac",3,"click"],[1,"material-icons"],[1,"down-btn","btn","waves-effect","waves-light","orange-sac"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"div",2),r.Qb(3,"div",1),r.Qb(4,"form",3),r.Qb(5,"div",4),r.Qb(6,"div",5),r.Qb(7,"i",6),r.oc(8,"textsms"),r.Pb(),r.Ob(9,"input",7),r.Qb(10,"label",8),r.oc(11,"Buscar"),r.Pb(),r.Pb(),r.Qb(12,"div",9),r.Qb(13,"select",10),r.Ob(14,"option",11),r.Qb(15,"option",12),r.oc(16,"No. Acta"),r.Pb(),r.Qb(17,"option",13),r.oc(18,"C.C"),r.Pb(),r.Qb(19,"option",14),r.oc(20,"Descripci\xf3n"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(21,"div",15),r.Qb(22,"button",16),r.Xb("click",(function(){return e.actBrowser()})),r.oc(23,"Buscar"),r.Pb(),r.Qb(24,"button",17),r.oc(25,"Crear Acta"),r.Pb(),r.Pb(),r.Pb(),r.Qb(26,"div",18),r.Qb(27,"table"),r.Qb(28,"tr"),r.nc(29,d,2,1,"th",19),r.Pb(),r.nc(30,l,21,5,"tr",20),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.Cb(4),r.ec("formGroup",e.filterOpt),r.Cb(25),r.ec("ngForOf",e.header_list),r.Cb(1),r.ec("ngForOf",e.rows))},directives:[s.p,s.h,s.d,s.a,s.g,s.c,s.m,s.i,s.o,o.i],styles:[".body-cont[_ngcontent-%COMP%]{background-color:#e3e6eb;height:auto}.row-no[_ngcontent-%COMP%]{margin:0}.contain-home[_ngcontent-%COMP%]{padding:1% 0 2%;margin:0}.menu-button-editor[_ngcontent-%COMP%]{padding:15% 0}.down-btn[_ngcontent-%COMP%]{padding:1%;width:40px;height:30px;margin:1% 2%}.down-b[_ngcontent-%COMP%]{width:100px;margin:0 0 0 10%}.center[_ngcontent-%COMP%]{padding:0 0 0 30%}.center-r[_ngcontent-%COMP%]{text-align:center}.orange-sac[_ngcontent-%COMP%]{background-color:#fc7323}.gray-sac[_ngcontent-%COMP%]{color:#000;font-weight:700}.gray-sac[_ngcontent-%COMP%], .info-basic[_ngcontent-%COMP%]{background-color:#e3e6eb}.info-basic[_ngcontent-%COMP%]{border:1px solid #000;padding:1% 2%;border-radius:3px;margin:0 0 .5%}.welcome[_ngcontent-%COMP%]{font-weight:900}.second-contain[_ngcontent-%COMP%]{border:1px solid #000}i[_ngcontent-%COMP%]{margin:3% 0 0}a[_ngcontent-%COMP%]{margin:0 2% 0 0}h3[_ngcontent-%COMP%]{margin:0;padding:0;color:#fff}.buscador[_ngcontent-%COMP%]{padding:0 0 0 10%}.cajon2[_ngcontent-%COMP%]{padding:0 0 0 30%}.cajon3[_ngcontent-%COMP%]{text-align:center;margin:0 0 0 5%;padding:0}a[_ngcontent-%COMP%]{margin:10px;background-color:#fc7323}.input-field[_ngcontent-%COMP%]   .prefix.active[_ngcontent-%COMP%]{color:#fc7323}.input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-bottom:1px solid #fc7323;box-shadow:0 1px 0 0 #fc7323}.input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus + label[_ngcontent-%COMP%]{color:#fc7323}.input-field[_ngcontent-%COMP%]   input.valid[_ngcontent-%COMP%]{border-bottom:1px solid #001935;box-shadow:0 1px 0 0 #001935}.blue-sac[_ngcontent-%COMP%]{color:#001935}.sel[_ngcontent-%COMP%]{width:200px}"]}),t})()}];let p=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},imports:[[c.e.forChild(u)],c.e]}),t})(),g=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},imports:[[o.c,p,s.k]]}),t})()}}]);